(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports;}
var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports;}
__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.i=function(value){return value;};__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{configurable:false,enumerable:true,get:getter});}};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module['default'];}:function getModuleExports(){return module;};__webpack_require__.d(getter,'a',getter);return getter;};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property);};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=87);})
({0:(function(module,exports){module.exports=jQuery;}),1:(function(module,exports){module.exports={Foundation:window.Foundation};}),2:(function(module,exports){module.exports={Plugin:window.Foundation.Plugin};}),21:(function(module,__webpack_exports__,__webpack_require__){"use strict";Object.defineProperty(__webpack_exports__,"__esModule",{value:true});var __WEBPACK_IMPORTED_MODULE_0__foundation_core__=__webpack_require__(1);var __WEBPACK_IMPORTED_MODULE_0__foundation_core___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__foundation_core__);var __WEBPACK_IMPORTED_MODULE_1__foundation_magellan__=__webpack_require__(51);__WEBPACK_IMPORTED_MODULE_0__foundation_core__["Foundation"].plugin(__WEBPACK_IMPORTED_MODULE_1__foundation_magellan__["a"],'Magellan');}),3:(function(module,exports){module.exports={rtl:window.Foundation.rtl,GetYoDigits:window.Foundation.GetYoDigits,transitionend:window.Foundation.transitionend};}),51:(function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return Magellan;});var __WEBPACK_IMPORTED_MODULE_0_jquery__=__webpack_require__(0);var __WEBPACK_IMPORTED_MODULE_0_jquery___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_jquery__);var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core__=__webpack_require__(3);var __WEBPACK_IMPORTED_MODULE_1__foundation_util_core___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__);var __WEBPACK_IMPORTED_MODULE_2__foundation_plugin__=__webpack_require__(2);var __WEBPACK_IMPORTED_MODULE_2__foundation_plugin___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__foundation_plugin__);var __WEBPACK_IMPORTED_MODULE_3__foundation_smoothScroll__=__webpack_require__(76);var __WEBPACK_IMPORTED_MODULE_3__foundation_smoothScroll___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__foundation_smoothScroll__);var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}
function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError("this hasn't been initialised - super() hasn't been called");}return call&&(typeof call==="object"||typeof call==="function")?call:self;}
function _inherits(subClass,superClass){if(typeof superClass!=="function"&&superClass!==null){throw new TypeError("Super expression must either be null or a function, not "+ typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}
var Magellan=function(_Plugin){_inherits(Magellan,_Plugin);function Magellan(){_classCallCheck(this,Magellan);return _possibleConstructorReturn(this,(Magellan.__proto__||Object.getPrototypeOf(Magellan)).apply(this,arguments));}
_createClass(Magellan,[{key:'_setup',value:function _setup(element,options){this.$element=element;this.options=__WEBPACK_IMPORTED_MODULE_0_jquery___default.a.extend({},Magellan.defaults,this.$element.data(),options);this.className='Magellan';this._init();this.calcPoints();}},{key:'_init',value:function _init(){var id=this.$element[0].id||__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__foundation_util_core__["GetYoDigits"])(6,'magellan');var _this=this;this.$targets=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('[data-magellan-target]');this.$links=this.$element.find('a');this.$element.attr({'data-resize':id,'data-scroll':id,'id':id});this.$active=__WEBPACK_IMPORTED_MODULE_0_jquery___default()();this.scrollPos=parseInt(window.pageYOffset,10);this._events();}},{key:'calcPoints',value:function calcPoints(){var _this=this,body=document.body,html=document.documentElement;this.points=[];this.winHeight=Math.round(Math.max(window.innerHeight,html.clientHeight));this.docHeight=Math.round(Math.max(body.scrollHeight,body.offsetHeight,html.clientHeight,html.scrollHeight,html.offsetHeight));this.$targets.each(function(){var $tar=__WEBPACK_IMPORTED_MODULE_0_jquery___default()(this),pt=Math.round($tar.offset().top- _this.options.threshold);$tar.targetPoint=pt;_this.points.push(pt);});}},{key:'_events',value:function _events(){var _this=this,$body=__WEBPACK_IMPORTED_MODULE_0_jquery___default()('html, body'),opts={duration:_this.options.animationDuration,easing:_this.options.animationEasing};__WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).one('load',function(){if(_this.options.deepLinking){if(location.hash){_this.scrollToLoc(location.hash);}}
_this.calcPoints();_this._updateActive();});this.$element.on({'resizeme.zf.trigger':this.reflow.bind(this),'scrollme.zf.trigger':this._updateActive.bind(this)}).on('click.zf.magellan','a[href^="#"]',function(e){e.preventDefault();var arrival=this.getAttribute('href');_this.scrollToLoc(arrival);});this._deepLinkScroll=function(e){if(_this.options.deepLinking){_this.scrollToLoc(window.location.hash);}};__WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).on('popstate',this._deepLinkScroll);}},{key:'scrollToLoc',value:function scrollToLoc(loc){this._inTransition=true;var _this=this;var options={animationEasing:this.options.animationEasing,animationDuration:this.options.animationDuration,threshold:this.options.threshold,offset:this.options.offset};__WEBPACK_IMPORTED_MODULE_3__foundation_smoothScroll__["SmoothScroll"].scrollToLoc(loc,options,function(){_this._inTransition=false;_this._updateActive();});}},{key:'reflow',value:function reflow(){this.calcPoints();this._updateActive();}},{key:'_updateActive',value:function _updateActive(){if(this._inTransition){return;}
var winPos=parseInt(window.pageYOffset,10),curIdx;if(winPos+ this.winHeight===this.docHeight){curIdx=this.points.length- 1;}else if(winPos<this.points[0]){curIdx=undefined;}else{var isDown=this.scrollPos<winPos,_this=this,curVisible=this.points.filter(function(p,i){return isDown?p- _this.options.offset<=winPos:p- _this.options.offset- _this.options.threshold<=winPos;});curIdx=curVisible.length?curVisible.length- 1:0;}
this.$active.removeClass(this.options.activeClass);this.$active=this.$links.filter('[href="#'+ this.$targets.eq(curIdx).data('magellan-target')+'"]').addClass(this.options.activeClass);if(this.options.deepLinking){var hash="";if(curIdx!=undefined){hash=this.$active[0].getAttribute('href');}
if(hash!==window.location.hash){if(window.history.pushState){window.history.pushState(null,null,hash);}else{window.location.hash=hash;}}}
this.scrollPos=winPos;this.$element.trigger('update.zf.magellan',[this.$active]);}},{key:'_destroy',value:function _destroy(){this.$element.off('.zf.trigger .zf.magellan').find('.'+ this.options.activeClass).removeClass(this.options.activeClass);if(this.options.deepLinking){var hash=this.$active[0].getAttribute('href');window.location.hash.replace(hash,'');}
__WEBPACK_IMPORTED_MODULE_0_jquery___default()(window).off('popstate',this._deepLinkScroll);}}]);return Magellan;}(__WEBPACK_IMPORTED_MODULE_2__foundation_plugin__["Plugin"]);Magellan.defaults={animationDuration:500,animationEasing:'linear',threshold:50,activeClass:'is-active',deepLinking:false,offset:0};}),76:(function(module,exports){module.exports={SmoothScroll:window.Foundation.SmoothScroll};}),87:(function(module,exports,__webpack_require__){module.exports=__webpack_require__(21);})});